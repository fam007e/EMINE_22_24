var clickCounter,questionMenu,edu_window,inDialog=!1,lockdownUrl,inCkDialog=!1,hashCounter=-2,ckeReady,ckeLoaded=!1,mathjaxLoaded=!1,historyLoaded=!1,mathAppLoading=!1,mathappsLoaded,delaySearch;function displayBrowserWarning(a){a='\x3cdiv class\x3d"alert alert-danger"\x3e'+a+"\x3c/div\x3e";$("#holder .section:first, #assignmentHolder .content, .hero-unit").before(a)}
var checkCompatibility=function(){BrowserDetect.init();"Explorer"==BrowserDetect.browser&&(8>=BrowserDetect.version||"undefined"!=typeof openuw&&1==openuw&&9>=BrowserDetect.version)?"undefined"==typeof openuw||1!=openuw?displayBrowserWarning(msgIE8Warning):displayBrowserWarning(msgIE9Warning):"Edge"==BrowserDetect.browser&&displayBrowserWarning(msgEdgeWarning)},QueryString=function(){for(var a={},b=window.location.search.substring(1).split("\x26"),c=0;c<b.length;c++){var d=b[c].split("\x3d");"undefined"===
typeof a[d[0]]?a[d[0]]=d[1]:"string"===typeof a[d[0]]?a[d[0]]=[a[d[0]],d[1]]:a[d[0]].push(d[1])}return a}();function onSubmit(){return!0}function readCookie(a){a+="\x3d";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null}
function isFullscreen(){try{if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)return!0}catch(a){}return!1}function exitFullscreen(){parent&&parent.postMessage({action:"lockdownControls",enabled:!1},"*");document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}
function doAction(a,b){window.noUnloadAction=!0;if(onSubmit()&&firstClick())try{readAppletItems();var c=document.forms.edu_form;null!=c?(null!=b&&$(c).attr("method",b),c.elements.actionID.value=a,"undefined"!=typeof LoadingOverlay&&setTimeout(function(){(new LoadingOverlay({el:$("body"),fullscreen:!0})).render()},500),"grade"!=a&&"quit_save"!=a&&"next"!=a&&"back"!=a&&"goto"!=a||callClearHowDidIDoUsingId(),c.submit()):clickCounter=0;"quit_save"!=a&&"grade"!=a||!parent||parent.postMessage({action:"lockdownControls",
enabled:!1},"*");"quit_save"==a&&parent&&parent.isFullscreen()&&parent.exitFullscreen()}catch(d){clickCounter=0}return!1}function clearHowDidIDo(a,b){clearHowDidIDoUsingId(a.data);"function"==typeof b&&b()}
function clearHowDidIDoUsingId(a){var b=$('[id^\x3d"response.'+a+'"]'),c=$(b).find(".glass"),d=b.data("disabled-items");$(d).each(function(a,b){var c=$(b);"undefined"!=typeof c.data("hdid-tabindex")?(c.attr("tabindex",c.data("hdid-tabindex")),c.removeData("hdid-tabindex")):c.removeAttr("tabindex")});$(b).off("click");$(c).remove();window.setTimeout(function(){$(b).popover("destroy")},100);$(b).removeClass("insession insessionCorrect insessionIncorrect insessionPartialCorrect insessionHumanGradeable insessionNonGradeable");
$('[id\x3d"feedback.'+a+'"]').remove();$('[id\x3d"remaining.'+a+'"]').remove();$("#feedback, #remaining, .comment").remove();c=$('[id\x3d"inSessionMax.'+a+'"]').val();d=$('[id\x3d"inSessionRemaining.'+a+'"]').val();("undefined"==typeof c||-1==c||0<=c&&0<d)&&$('[id\x3d"doInSession.'+a+'"]').show()}
function showInSessionUsesRemaining(a,b){var c="remaining."+b;if(0==$("#"+c).length){var c=$('\x3cdiv class\x3d"remainingUses" id\x3d"'+c+'"\x3e\x3c/div\x3e'),d=$('\x3cspan class\x3d"remainingUsesLabel"\x3e\x3c/span\x3e').append(msgRemainingUses),e=$('\x3cspan class\x3d"remainingUsesValue"\x3e\x3c/span\x3e').append(a);c.append(d).append("\x26nbsp;").append(e);$('[name\x3d"questioncontainer"]','[id\x3d"questionstyle.'+b+'"]').prepend(c)}}
function showTopFeedback(a,b){if(""!=a){var c,d=$('[name\x3d"questioncontainer"]','[id\x3d"questionstyle.'+b+'"]');0==d.length?(c="feedback",d=$('[name\x3d"questioncontainer"]',".questionstyle").eq(0)):c="feedback."+b;if(null===document.getElementById(c)){var e=$('\x3cdiv id\x3d"'+c+'"\x3e\x3c/div\x3e'),f=$('\x3cdiv class\x3d"h3"\x3eFeedback\x3c/div\x3e'),g=$("\x3cdiv\x3e\x3c/div\x3e").append(a);e.append(f).append(g);d.append(e);MathJax.Hub.Queue(["Typeset",MathJax.Hub,c])}}}
function getDetailsRow(a,b){return null!=b&&0<b.length?'\x3cdiv class\x3d"hdidRow"\x3e\x3cspan class\x3d"hdidHeading"\x3e'+a+'\x3c/span\x3e\x3cspan class\x3d"hdidValue"\x3e'+b+"\x3c/span\x3e\x3c/div\x3e":""}
function showResponseAreaGradingResult(a,b,c,d){var e=$(a).find(".glass");0!=e.length&&$(e).popover("destroy").remove();$(a).append("\x3cdiv class\x3d'glass'\x3e\x3c/div\x3e");e=$(a).find(".glass");b=getDetailsRow(msgResponse,b.response)+getDetailsRow(msgAnswer,b.answer)+getDetailsRow(msgComment,b.comment);$(a).addClass("insession "+c).attr("data-toggle","popover").attr("title",d).attr("data-trigger","hover focus").attr("data-html","true").attr("tabindex",0).data("template",'\x3cdiv class\x3d"popover" role\x3d"alert" aria-live\x3d"polite"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"popover-title"\x3e\x3c/div\x3e\x3cdiv class\x3d"popover-content"\x3e\x3c/div\x3e\x3c/div\x3e').data("content",
b);c=$(a).innerHeight();d=$(a).innerWidth()-20;$(e).css("width",d+"px").css("height",c+"px");0<$(a).parents(".slide").length&&$(a).attr("data-container",".videoContainer.playing");$(a).on("shown.bs.popover",function(){var b=$(a).attr("aria-describedby");MathJax.Hub.Queue(["Typeset",MathJax.Hub,$("#"+b)[0]]);MathJax.Hub.Queue(window.initQuestions())})}
function showGradingResult(a,b,c){_.each(b,function(b,e){var f,g,k;if(null==a||e==a)if(k=null!=c?c+"."+e:"response."+e,b.humanGradeable?(f="insessionHumanGradeable",g=msgHumanGradeable):b.gradeable?b.score>=b.passingScore?(f="insessionCorrect",g=msgCorrect):0<b.score?(f="insessionPartialCorrect",g=msgPartiallyCorrect):(f="insessionIncorrect",g=msgIncorrect):(f="insessionNonGradeable",g=msgNonGradeable),null==b.children||0==b.children.length){var h=$('[id^\x3d"'+k+'-"]');0==h.length&&(h=$('[id\x3d"'+
k+'"]'));k=$(h).parents(".slide");(0==k.length||$(k).is(":visible"))&&b.gradeable&&showResponseAreaGradingResult(h,b,f,g)}else null!=b.comment&&0<b.comment.length&&showTopFeedback(b.comment,a),"undefined"!=typeof b.inSessionGradeUsesRemaining&&(f=parseInt(b.inSessionGradeUsesRemaining),$('[id\x3d"inSessionRemaining.'+a+'"]').val(f),f=f+"/"+$('[id\x3d"inSessionMax.'+a+'"]').val(),showInSessionUsesRemaining(f,a)),showGradingResult(null,b.children,k)})}
function preventResponseAreaTabNavigation(a){a=$(a);if(a.is(":input")&&"-1"!=typeof a.attr("tabindex")&&"undefined"==typeof a.data("hdid-tabindex"))return"undefined"!=typeof a.attr("tabindex")&&a.data("hdid-tabindex",a.attr("tabindex")),a.attr("tabindex","-1"),[a];if(a.is("iframe")){var b=[];a.contents().find("*").each(function(a,d){b=b.concat(preventResponseAreaTabNavigation(d))});return b}}
function doInSessionFeedback(a,b,c){a.preventDefault();if(!this.inprocess){if(readAppletItems()){this.inprocess=!0;var d=$($(a.target).parents("form")[0]).serialize();if(null==d||0==d.length)d=$($('form[id!\x3d"helperForm"]')[0]).serialize();var e=a.target.id.replace("doInSession.",""),d=d+("\x26inSessionId\x3d"+e);null!=c&&_.each(c,function(a,b){d+="\x26"+b+"\x3d"+a});c="";"wsHowDidIDo"==a.target.name?(d=d.replace("wsDisplayForPreview","wsHowDidIDo"),c="render/question.do"):c="modules/unproctoredTest.InSessionGradeReport";
var f=this;$.ajax({type:"POST",url:getBaseURL()+c,data:d,dataType:"html",headers:{accept:"application/json; charset\x3dutf-8"},error:function(a){(new AjaxErrorDialogView({model:{request:a}})).render();f.inprocess=!1},success:function(a){a=JSON.parse(a);if(a.error)(new AlertDialogView({model:{body:a.error}})).render();else{showGradingResult(e,a);var c=$('[id^\x3d"response.'+e+'"]');c.on("click",null,e,function(a){clearHowDidIDo(a,b)});c.on("keypress",null,e,function(a){"Enter"!==a.key&&13!==a.keyCode||
c.trigger("click")});var d=[];c.find("*").each(function(a,b){d=d.concat(preventResponseAreaTabNavigation(b))});c.data("disabled-items",d);window.setTimeout(function(){$('[id^\x3d"response.'+e+'"]:visible').popover()},100);f.inprocess=!1}$('[id\x3d"doInSession.'+e+'"]').hide()}})}return!1}}
function doInSessionTryAnother(a){if(readAppletItems()){var b=$(a.target).hasClass("startOver")?"startOver":"tryAnother",c=a.target.id.replace(b+".","");a=$($(a.target).parents("form")[0]).serialize();a+="\x26tryAnotherId\x3d"+c;$.ajax({type:"POST",url:getBaseURL()+"modules/unproctoredTest."+("tryAnother"==b?"InSessionTryAnother":"InSessionStartOver"),data:a,dataType:"html",headers:{accept:"text/html; charset\x3dutf-8"},error:function(a){(new AjaxErrorDialogView({model:{request:a}})).render()},success:function(a){var b=
$(a).attr("id").replace(/questionstyle\./,""),f=$('[id\x3d"questionstyle.'+c+'"]'),g=f.find(".editorArea textarea").attr("name");null!=CKEDITOR.instances[g]&&CKEDITOR.instances[g].destroy();$('[id\x3d"doInSession.'+c+'"]').attr("id","doInSession."+b).show();$('[id\x3d"tryAnother.'+c+'"]').attr("id","tryAnother."+b);$('[id\x3d"startOver.'+c+'"]').attr("id","startOver."+b);a=$(a).find('div[name\x3d"questioncontainer"]').html();f.attr("id","questionstyle."+b).find('div[name\x3d"questioncontainer"]').html(a);
f=$('[id\x3d"questionstyle.'+b+'"]')[0];MathJax.Hub.Queue(["Typeset",MathJax.Hub,f]);$('[id\x3d"feedback.'+c+'"]').remove();$("#feedback").remove();mapleCloudOnLoad();MathJax.Hub.Queue(window.initQuestions);0<$(f).find(".documentUploadContainer").length&&initDocumentUpload();$("#questionstyle\\."+b+" .changeMathMode").on("click",loadMathSelect);$("#questionstyle\\."+b).trigger("focus")}})}return!1}function disableme(){return!1}
function readEssayAreas(a){if("undefined"!=typeof CKTwoDeeEditorPlugin)for(var b=$("textarea"),c=0;c<b.length;c++){var d=b[c],e=$(d).attr("id"),f=CKEDITOR.instances[e];if(null!=f){var g=f.getData(),e=e.replace(".textarea",".value");$('[name\x3d"'+e+'"]').val(g);!FF_NEW_QUESTION_RENDERING&&!a&&0<$(d).closest(".adaptive").length&&($(d).closest(".editorArea").hide(),f.destroy(!1))}}$("input.disabled","div.essayQuestion").each(function(){var a=$(this).val();$(this).val(unescape(a))})}
function readProgrammingAreas(){if(window.programmingEditors){var a=/_/gi;_.each(programmingEditors,function(b,c){var d=$('input[type\x3d"hidden"][name\x3d"'+c.replace(a,".")+'.0"]'),e=b.getValue();d.val(e)})}}
function readHtml5Response(){var a=$('div[id^\x3d"sro_id_"][class^\x3d"html5"]');0<a.length&&a.each(function(){var a=this.getAttribute("id").substr(7),c=a.replace(/_/gi,".")+".0",d=$(this.parentNode.parentNode).find('input[type\x3d"hidden"][name\x3d"ans.'+c+'"]');if(0<d.length)d=d[0];else if(d=$(this.parentNode.parentNode.parentNode).find('input[type\x3d"hidden"][name\x3d"ans.'+c+'"]'),0<d.length)d=d[0];else return;try{var e=$(this).attr("class").substr(5),c=null;e==html5Ques.TYPE.SKETCH?c=html5Ques.sketch.getInstances(a):
e==html5Ques.TYPE.UWINSTRUCTION?c=html5Ques.uwinstruction.getInstances(a):e==html5Ques.TYPE.FREEBODYDIAGRAM?c=html5Ques.fbd.getInstances(a):e==html5Ques.TYPE.CLICKABLEIMAGE&&(c=html5Ques.clickableImage.getInstance(this.getAttribute("id")));null!=c&&(d.value=c.getResponse())}catch(f){console.error(f)}});a=$('iframe[id^\x3d"sro_container_response_"]');0<a.length&&a.each(function(){var a=this.getAttribute("id").substr(23).replace(/-.*/,"").replace(/_/gi,".")+".0",a=$('input[name\x3d"ans.'+a+'"]');if(0<
a.length){a=a[0];try{a.value=document.getElementById(this.getAttribute("id")).contentWindow.getResponse()}catch(c){console.error(c)}}});return!0}function includeScript(a,b){var c=!0;if(-1<a.indexOf("MathEditor"))return-1<a.indexOf("mapleEquationEditor.nocache.js");_.each(b,function(b){-1<a.indexOf(b)&&(c=!1)});return c}
function initHtmlQuestionFrame(a,b,c,d,e,f,g){var k=["assignmentEditor","editAssignmentContent","assignmentSummary","assignmentcontrolbar"],h="",l=$("script[src]");_.each(l,function(a){a=$(a).attr("src");includeScript(a,k)&&(h+="\x3cscript src\x3d'"+a+"' type\x3d'text/javascript'\x3e\x3c/script\x3e")});l=$('link[rel\x3d"stylesheet"]');_.each(l,function(a){h+='\x3clink rel\x3d"stylesheet" href\x3d"'+$(a).attr("href")+'"\x3e'});h+='\x3cstyle type\x3d"text/css"\x3e'+c+"\x3c/style\x3e";null!=e&&""!=e&&
(h+='\x3clink type\x3d"text/css" rel\x3d"stylesheet" href\x3d"'+getBaseURL()+e+'"\x3e');null!=f&&""!=f&&(h+='\x3cscript type\x3d"text/javascript" src\x3d"'+getBaseURL()+f+'"\x3e\x3c/script\x3e');h+='\x3cscript type\x3d"text/javascript"\x3e';"undefined"!=typeof config_options&&(h+="config_options\x3d"+JSON.stringify(config_options)+";");h+=d+" var hasHtmlQuestionBeenInitialized \x3d false;$(function(){ document.oncontextmenu\x3dfunction(){return false;}; initialize("+("undefined"==g||1==g?!0:!1)+');$(window).on("unload", function() { toggleIframeResizer(false);});parent.postMessage({action:"resizeHtmlQuestionFrame", iframeId:"'+
a+'"}, "*");var initHtmlQuestionFrameIsDone \x3d true;});function callSetFeedback(response, answer) {  window.setTimeout(function() { setFeedback(response, answer); }, 100);}\x3c/script\x3e';h+=unescape(b);"srcdoc"in document.createElement("iframe")?document.getElementById(a).srcdoc=h:(document.getElementById(a).setAttribute("srcdoc",h),document.getElementById(a).setAttribute("src","javascript: window.frameElement.getAttribute('srcdoc');"),document.getElementById(a).contentWindow&&(document.getElementById(a).contentWindow.location=
"javascript: window.frameElement.getAttribute('srcdoc');"))}function setResponseForHtml5QuestionFrame(a,b,c){var d=$("#"+a)[0];d.onload=function(){(d.contentWindow||d.contentDocument.parentWindow).callSetFeedback("undefined"==b||null==b?null:b,"undefined"==c||null==c?null:c);d.onload=null}}
function buildItemListFromHtml5QuestionFrame(a,b,c){var d=$("iframe",a.target)[0];"undefined"==typeof d&&(d=$("iframe",$(a.target).parents(".insession"))[0]);if(d){a=d.srcdoc?d.srcdoc:d.getAttribute("srcdoc");var d=$(a).filter("#QuestionContainer"),e="";b=b.split(",");for(var f=0;f<b.length;f++)e+="\x3cli\x3e"+$("li[id\x3d"+b[f].trim()+"]",d).clone(!0).html()+"\x3c/li\x3e";b=$("\x3cul\x3e"+e+"\x3c/ul\x3e");updateId(b,c);$("#"+c).append($(b));b=$(a).filter("style");a=$(a).filter("link");a="containerSelector\x3d"+
c+"\x26stylePath\x3d"+(1==$(a).length?$(a).attr("href"):"")+"\x26styleContent\x3d"+$(b).html();$.ajax({method:"POST",dataType:"text",data:a,url:getBaseURL()+"themes/style"}).done(function(a){$("#"+c).append("\x3cstyle type\x3d'text/css'\x3e"+a+"\x3c/style\x3e");MathJax.Hub.Queue(["Typeset",MathJax.Hub,c])}).fail(function(a){(new AjaxErrorDialogView({model:{request:a}})).render()})}}
function updateId(a,b){var c=$(a).children();_.each(c,function(a){1===a.nodeType&&a.id&&(a.id=a.id+"_"+b);updateId(a,b)})}
function readAppletItems(a){readEssayAreas(a);readProgrammingAreas();readEquationEditors();readHtml5Response();a=document.edu_form;if(null!=a)for(var b=a.elements,c=/ans\.(\d+)\.(\d+)/,d=0;d<b.length;d++){var e=b[d].name;if(null!=e.match(c)){var f=document[e+".sro"],g=null;if(null!=f)try{g=new String(f.getResponse())}catch(k){}else if(null!=(f=document[e+".swf"]))if("length"in f){for(e=0;e<f.length;e++)try{try{g=new String(f[e].getResponse());break}catch(k){g=new String(f[e].GetVariable("response"));
break}}catch(k){}f=f[e]}else try{g=new String(f.getResponse())}catch(k){g=new String(f.GetVariable("response"))}else null!=(f=document[e+".mw"])&&(g=null);if(null!=g&&(a.elements[d].value=g,0==g.indexOf("error:")&&(g=g.substring(6,g.length),!confirm(g))))return f.requestFocus(),!1}}return!0}function mapleNetStateChanged(a){4==xmlHttp.readyState&&(document.getElementById(a).value=xmlHttp.responseText)}
function GetXmlHttpObject(){var a=null;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){a=new ActiveXObject("Microsoft.XMLHTTP")}}return a}function callMapleNet(a,b,c){xmlHttp=GetXmlHttpObject();xmlHttp.onreadystatechange=mapleNetStateChanged(c);xmlHttp.open("POST",a,!0);xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlHttp.setRequestHeader("Content-length",b.length);xmlHttp.setRequestHeader("Connection","close");xmlHttp.send(b)}
function toClassPage(){var a=window;null!=window.parent.frames.controlbar&&(a=window.parent.opener);null!=a&&(a.location=""!=className?getBaseURL()+"registration.Redirect?className\x3d"+className:getBaseURL(),a.focus());null!=window.parent.frames.controlbar&&window.parent.close()}
function wsShowHint(a,b){var c=$(document.forms.edu_form).serialize()+"\x26wsActionID\x3dgetHints\x26hintNumber\x3d"+b;$.ajax({type:"POST",url:getBaseURL()+"ws/launcher.do",data:c,async:!0,success:function(b){$("#pageDialog").html(b);$("#pageDialog").show();$("#pageDialog .modal").modal({backdrop:!1});MathJax.Hub.Queue(["Typeset",MathJax.Hub,$("#pageDialog")[0]]);$(a).data("used","1")},error:function(a){(new AjaxErrorDialogView({model:{request:a}})).render()}})}
function getHelp(a){var b;"math_symbol_mode"==a||"student_math_editor"==a?b=MATH_SYMBOL_MODE_HELP_URL:"math_text_mode"==a?b=MATH_TEXT_MODE_HELP_URL:"chem_symbol_mode"==a?b=CHEM_SYMBOL_MODE_HELP_URL:"chem_text_mode"==a&&(b=CHEM_TEXT_MODE_HELP_URL);openWindow(b,"helpWindow","scrollbars,resizable,width\x3d800,height\x3d600")}function getFileName(a){var b=a.lastIndexOf("/");return 0<b?a.substr(b+1):a}
function setImageWidth(a){$("\x3cimg/\x3e").attr("src",$(a).attr("src")+"?t\x3d"+(new Date).getTime()).load(function(){740<this.width&&$(a).css("width","740px")})}function toggleItem(a){a=$("#"+a+"Table");$(a).toggle()}
function getMaplePlotURL(a,b,c,d,e,f,g){return getBaseURL()+"modules/mapleTA.plotserver.PlotServer?maple\x3d"+encodeURIComponent(a)+(null!=b?"\x26plot\x3d"+encodeURIComponent(b):"")+(null!=c?"\x26type\x3d"+encodeURIComponent(c):"")+(null!=d?"\x26libname\x3d"+encodeURIComponent(d):"")+(null==e||0==e.length?"":"\x26plotdriver\x3d"+encodeURIComponent(e))+(null==f||null==g?"":"\x26width\x3d"+f+"\x26height\x3d"+g)}
function drawMaplePlot(a,b,c,d,e){a=getMaplePlotURL(a,null,null,d,e,b,c);document.write('\x3cIMG title\x3d"Maple plot"');document.write('SRC\x3d"'+a+'" ');null!=b&&null!=c&&(document.write("WIDTH\x3d"+b+" "),document.write("HEIGHT\x3d"+c));document.write("\x3e")}function popupMaplePlot(a,b,c,d,e){var f=getMaplePlotURL(a,b,c,d,e,560,430);a=getBaseURL()+"modules/preview.Preview";previewModal(a,function(){$("#pageDialog .modal-body").html("\x3cimg src\x3d'"+f+"'/\x3e")})}
function popupMessage(a){var b=openWindow("","popup","width\x3d500,height\x3d380,scrollbars\x3dno,resizable\x3dyes,status\x3dno,location\x3dno,dependent\x3dyes").document;b.open("text/html");b.writeln("\x3cHTML\x3e");b.writeln("\x3cHEAD\x3e");b.writeln("\x3c/HEAD\x3e");b.writeln("\x3cBODY\x3e");b.writeln('\x3cTABLE ALIGN\x3d"CENTER"\x3e');b.writeln('\x3cTR VALIGN\x3d"CENTER"\x3e\x3cTD\x3e');b.writeln(a);b.writeln("\x3c/TD\x3e\x3c/TR\x3e");b.writeln("\x3c/TABLE\x3e");b.writeln("\x3c/BODY\x3e");b.writeln("\x3c/HTML\x3e");
b.close()}var _preview=null,_previewEq=null;function showBootstrapModal(a,b,c,d,e,f){c=generateBootstrapModal(c,d,e);$(a).html(c);void 0!==f&&null!==f&&($("#generatedModalButton").on("click",f),$("#generatedDismissButton").on("click",f));$(a).show();$(a+" .modal").modal(b)}
function generateBootstrapModal(a,b,c){return['\x3cdiv class\x3d"modal" tabindex\x3d"-1" role\x3d"dialog"\x3e \x3cdiv class\x3d"modal-dialog" role\x3d"document"\x3e \x3cdiv class\x3d"modal-content"\x3e \x3cdiv class\x3d"modal-header"\x3e \x3ch5 class\x3d"modal-title"\x3e',a,'\x3c/h5\x3e \x3cbutton style\x3d"margin-top: -20px" type\x3d"button" id\x3d"generatedDismissButton" class\x3d"close" data-dismiss\x3d"modal" aria-label\x3d"',c,'"\x3e \x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e \x3c/button\x3e \x3c/div\x3e \x3cdiv class\x3d"modal-body"\x3e \x3cp\x3e',
b,'\x3c/p\x3e \x3c/div\x3e \x3cdiv class\x3d"modal-footer"\x3e \x3cbutton type\x3d"button" id\x3d"generatedModalButton" class\x3d"btn btn-primary btn-default" data-dismiss\x3d"modal"\x3e',c,"\x3c/button\x3e \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e"].join(" ")}
function previewModal(a,b){$.ajax({type:"GET",data:{},url:a,success:function(a){0<$("#LoginActionForm",a).length?showBootstrapModal("#pageDialog",{backdrop:!0},sessionTimeout.expired.title,sessionTimeout.expired.body,sessionTimeout.expired.button,window.location.reload.bind(window.location)):(a=$(".modal",a),$("#pageDialog").html(a),$("#pageDialog").show(),$("#pageDialog .modal").modal({backdrop:!1}),MathJax.Hub.Queue(["Typeset",MathJax.Hub,$("#pageDialog")[0]]),null!=b&&b())}})}
function previewFormula(a,b,c,d,e,f){a=$('input[name\x3d"'+a+'"]')[0];a="undefined"!==typeof a?a.value:null;var g=encodeURIComponent(a);_previewEq=a;null!=_preview&&_preview.close();"undefined"===typeof c&&(c="");"undefined"===typeof d&&(d="");b="eq\x3d"+g+"\x26actionID\x3d"+b+"\x26maple\x3d"+encodeURIComponent(c)+"\x26libname\x3d"+encodeURIComponent(d)+"\x26";c=getBaseURL();previewModal(c+("undefined"!==typeof e&&"true"==e?"ws/launcher.do?wsActionID\x3dquestionPreviewFormula\x26wsQuestionEngine\x3dtrue\x26":
"modules/preview.Preview?")+b,f)}function previewChemistry(a){a=encodeURIComponent(a);previewModal(getBaseURL()+"modules/preview.Preview?actionID\x3dchemistry\x26eq\x3d"+a)}var _math_toolbar_target;function popupMathToolbar(a){_math_toolbar_target=document[a+".sro"];openWindow(getBaseURL()+"modules/mathEditor/toolbar.html","math_editor_toolbar","width\x3d240,height\x3d50")}
function popupChemToolbar(a){_math_toolbar_target=document[a+".sro"];openWindow(getBaseURL()+"modules/mathEditor/chem_toolbar.html","math_editor_toolbar","width\x3d240,height\x3d50")}function aboutPopup(a){openWindow(a+"About.do","version_info","width\x3d350,height\x3d250,resizable,scrollbars")}
function findObj(a,b){var c,d;b||(b=document);0<(c=a.indexOf("?"))&&parent.frames.length&&(b=parent.frames[a.substring(c+1)].document,a=a.substring(0,c));!(d=b[a])&&b.all&&(d=b.all[a]);for(c=0;!d&&c<b.forms.length;c++)d=b.forms[c][a];for(c=0;!d&&b.layers&&c<b.layers.length;c++)d=findObj(a,b.layers[c].document);!d&&b.getElementById&&(d=b.getElementById(a));return d}function hide(a){obj=findObj(a);obj.style&&(obj.style.visibility="hidden")}
function show(a){obj=findObj(a);obj.style&&(obj.style.visibility="visible")}var selectAllItems=function(a){a=a.checked;for(var b=document.getElementsByName("selectedItems"),c=0;c<b.length;c++)b[c].checked=a};function firstClick(){var a;a=1!=clickCounter?!0:!1;clickCounter=1;return a}function isAssignmentWindowClosed(){return null==edu_window||edu_window.closed}
function doStudentExternal(a){firstClick()&&(a=getBaseURL()+"contentmanager/RubricList.do?actionID\x3dpreview\x26assignmentId\x3d"+a,openWindow(a,"external_window","width\x3d800,height\x3d600,scrollbars\x3dyes,resizable\x3dyes"),clickCounter=0)}function doInstructorExternal(a){firstClick()&&(a=getBaseURL()+"gradebook/External.do?asgnId\x3d"+a,openWindow(a,"external_window","width\x3d800,height\x3d600,scrollbars\x3dyes,resizable\x3dyes"),clickCounter=0)}
function doRubricGrade(a){if(extmodified)(new AlertDialogView({model:{body:AddExternalFormSaveBeforeGradingMsg}})).render();else{var b=getBaseURL()+"contentmanager/RubricList.do?",b=b+"actionID\x3dgrade"+("\x26trId\x3d"+a);openWindow(b,"rubricView","width\x3d800,height\x3d600,scrollbars\x3dyes,resizable\x3dyes")}}
function showAssignmentPolicies(a,b){var c=getBaseURL()+"modules/test.ShowPolicies?className\x3d"+className+"\x26testName\x3d"+encodeURIComponent(b)+"\x26testId\x3d"+a;openWindow(c,"show_policies_window","width\x3d400,height\x3d300,scrollbars,resizable")}function isInLockdown(){try{return 0<$("#lockdownFrame").length||0<$("#lockdownFrame",window.parent.document.body).length}catch(a){return!1}}
function ensureLockdown(a){var b=!1;top==self?b=!0:-1!=parent.location.href.indexOf("/lti")||-1!=top.location.href.indexOf("launch.do")||/assignments\/\d+$/.test(top.location.href)||(b=!0);b&&(a=a.match(/testId=(\d+)/)[1],window.location=getBaseURL()+"assignment/launch.do?assignmentClassId\x3d"+a)}function openAjaxWindow(a){var b=getBaseURL()+"modules/preview.Preview";previewModal(b,function(){$.get(a,function(a){$("#pageDialog .modal-body").html(a)})})}
function openCKFinderWindow(a,b,c,d){d="undefined"!=typeof d&&null!=d&&""!=d.trim()?d:"Files";var e="undefined"!=typeof ckFinderConnectorInfo&&null!=ckFinderConnectorInfo&&""!=ckFinderConnectorInfo.trim()?"\x26"+ckFinderConnectorInfo:"";openWindow(THIRD_PARTY_CKFINDER_URL+"ckfinder.html?type\x3d"+d+"\x26action\x3djs\x26func\x3d"+a+"\x26data\x3d"+c+"\x26langCode\x3den"+e,"browser",b)}
function openWindow(a,b,c,d){if(d||!isInLockdown())return a=window.open(a,b,c),null!=a&&a.focus(),a;openAjaxWindow(a)}function focusWindow(a){null!=a&&a.focus()}function closeWindow(){window.close()}function setHolderSize(){if("undefined"==typeof wsQuestionEngine||1!=wsQuestionEngine){var a=$(document).width();$("#title").show();$(".crumbTrail").show();780>a&&($("#title").hide(),$(".crumbTrail").hide())}}
function resetSelectDialog(){"true"==readCookie("useMathEditor")?$("#symbol").attr("checked",!0):$("#text").attr("checked",!0)}
function displayPopupDialog(a,b,c,d){$("#pageDialog").load(b,function(){try{$("#pageDialog").dialog("destroy")}catch(b){}$("#pageDialog").dialog({title:a,resizable:!1,width:c,height:d,open:function(){setAppletsEnabled($(this).closest(".ui-dialog")[0],!1)},beforeclose:function(){setAppletsEnabled($(this).closest(".ui-dialog")[0])},beforeClose:function(){setAppletsEnabled($(this).closest(".ui-dialog")[0])},buttons:{Ok:function(){$(this).dialog("close")}}})})}
function callClearHowDidIDoUsingId(){var a=$('[id^\x3d"response."].insession');if(0<$(a).length){var b=[];$(a).each(function(){var a=$(this).get(0).id.split(".")[1];b.includes(a)||(b.push(a),clearHowDidIDoUsingId(a))})}}
function loadMathSelect(a){a.preventDefault();callClearHowDidIDoUsingId();if(FF_NEW_QUESTION_RENDERING)validateAndToggleMathEditor(a);else{"true"!=readCookie("useMathEditor")?document.cookie="useMathEditor\x3dtrue; path\x3d"+getBaseContext()+"/":document.cookie="useMathEditor\x3dfalse; path\x3d"+getBaseContext()+"/";var b=$('[name\x3d"changeEntryMode"]');b&&b.val("true");0==$("#fromAE").length?1<a.currentTarget.attributes.href.value.length?(b=parseInt($("input[name\x3dcurrPage]").val()),gotoPage(b,
a.currentTarget.attributes.href.value)):doAction("refresh",null):(0==$('[name\x3d"keepVersion"]').length&&$("#aeContentPreview").append('\x3cinput type\x3d"hidden" name\x3d"keepVersion"/\x3e'),$('[name\x3d"keepVersion"]').val("true"),readAppletItems(),doPreview($(".current")))}}
String.prototype.escapeSpecialChars=function(){return this.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\\x26").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f")};
function validateAndToggleMathEditor(a){a.preventDefault();var b=$(a.target).attr("data-id"),c=b.replace(/\./g,"\\."),d=$(a.target).attr("data-type");"twod"==d&&readEquationEditor($(".mathEditorArea#editorArea\\."+c));var e=[],f=$('[name\x3d"ans\\.'+c+'"]').val(),g=$('[name\x3d"ans\\.'+c+'\\.mcMode"]').val(),k=$('[name\x3d"ans\\.'+c+'\\.fList"]').val(),c=$('[name\x3d"ans\\.'+c+'\\.qType"]').val(),h="chemistryQuestion"==$(a.target).attr("data-chem");a={};a.id=b;a.math=f;a.mcMode=g;a.fList=k;a.qType=
c;a.isChemistryQuestion=h;e[0]=a;b="request\x3d"+encodeURIComponent(JSON.stringify(e).escapeSpecialChars());$.ajax({type:"POST",url:getBaseURL()+"rest/questions/validateMath",data:b,async:!0,headers:{accept:"application/json; charset\x3dutf-8"},error:function(a){showMathFatalError(msgCannotConnectToServer)},success:function(a){for(var b=[],c=!0,f=0,g=0;g<a.length;g++){var k=a[g];if("MATH-ERROR"==k.value){c=!1;if("ALL"==k.label){showMathFatalError(mathMLValidationFatalDescription);return}b[f++]=e[g]}}c?
toggleMathEditor(a):showMathWarning(b,d,h)}});return!1}function toggleMathEditor(a){var b=$('[name\x3d"changeEntryMode"]');b&&b.val("true");readAppletItems();for(b=0;b<a.length;b++){var c=a[b].label.replace(/\./g,"\\.");$('[name\x3d"ans\\.'+c+'"]').hide();$('[name\x3d"ans\\.'+c+'"]').val(a[b].value)}a=document.forms.edu_form;a.elements.actionID.value="refresh";a.submit()}
function showMathWarning(a,b,c){$("#warningBody").html("");$("#warningModal .modal-title").html(mathMLValidationWarningTitle);"twod"==b?c?$("#warningModal .modal-description").html(mathMLValidation2dChemistryWarningDescription):$("#warningModal .modal-description").html(mathMLValidation2dWarningDescription):c?$("#warningModal .modal-description").html(mathMLValidation1dChemistryWarningDescription):$("#warningModal .modal-description").html(mathMLValidation1dWarningDescription);for(b=0;b<a.length;b++)0<
b&&$("#warningBody").append($("\x3chr\x3e")),c=a[b],$("#warningBody").append($("\x3cdiv\x3e\x3c/div\x3e").html(c.math));$("#warningModal").modal("show");MathJax.Hub.Queue(["Typeset",MathJax.Hub,$("#warningModal")[0]])}
function showMathFatalError(a){$("#warningBody").html("");$("#warningModal .modal-title").html(mathMLValidationWarningTitle);$("#warningModal .modal-description").html("");$("#warningBody").html(a);$("#warningModal").modal("show");MathJax.Hub.Queue(["Typeset",MathJax.Hub,$("#warningModal")[0]])}
function labelDiv(a){if(!$(a).hasClass("labelled")){for(var b=/\d+/g,c=$(".centered",a),d=0;d<c.length;d++){var e=c[d];if(null!=e){var f=$(e).width(),f=parseInt($(e).css("left").match(b)[0])-f/2;$(e).css("left",f)}}$(a).addClass("labelled")}}function displayLabelledDivs(){for(var a=$(".labelledImage"),b=0;b<a.length;b++)labelDiv(a[b])}
function showAllDynamicAttempts(a){for(var b=document.getElementById("toggle_attempts_"+a),c=0,d=document.getElementById("attempts"+a+"_"+c);d;)d.style.display=b.checked?"block":"none",c++,d=document.getElementById("attempts"+a+"_"+c)}function setAppletsEnabled(a,b){var c=$("applet");if(0!=c.length){b="undefined"===typeof b?!0:b;showAppletOverIframe(a,!b);for(var d=0;d<c.length;d++)"function"===typeof c[d].setEnabled?c[d].setEnabled(b):$(c[d]).css("visibility",b?"visible":"hidden")}}
function showAppletOverIframe(a,b){var c=document.getElementById("DivShim");null==c&&(c=document.createElement("iframe"),$(c).attr({id:"DivShim",src:"javascript:false;",scrolling:"no",frameborder:"0"}),$(c).css({position:"absolute",display:"none"}),document.body.appendChild(c));b?(c.style.width=a.offsetWidth+"px",c.style.height=a.offsetHeight+"px",c.style.top=a.style.top,c.style.left=a.style.left,c.style.zIndex=100,c.style.display="block"):c.style.display="none"}
function createLockdownIframe(a){$("#frameContainer iframe").remove();$("#frameContainer").append('\x3ciframe width\x3d"100%" height\x3d"100%" name\x3d"asgnFrame" allowfullscreen\x3d"true" src\x3d"'+a+'"\x3e\x3c/iframe\x3e')}
function reportTaskSwitch(){cancelFullscreen();$('[name\x3d"asgnFrame"]',window.parent.document)[0].contentWindow.doAction("reporttaskswitch");$("#taskSwitched",window.parent.document).show();$(window.parent.document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",reportTaskSwitch)}
function cancelFullscreen(){if(isFullscreen()||parent&&parent.isFullscreen())window.parent.document.cancelFullScreen?window.parent.document.cancelFullScreen():window.parent.document.mozCancelFullScreen?window.parent.document.mozCancelFullScreen():window.parent.document.webkitCancelFullScreen&&window.parent.document.webkitCancelFullScreen()}
var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;this.versionSearchString=a[b].versionSearch||a[b].identity;if(c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},
searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"OPR",identity:"Opera",versionSearch:"OPR"},{string:navigator.userAgent,subString:"Vivaldi",identity:"Vivaldi"},{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",
identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,
subString:"MSIE",identity:"Internet Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.userAgent,subString:"Windows Phone",identity:"Windows Phone"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",
identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();function ckeditorHasFocus(){return void 0!==_.find(CKEDITOR.instances,function(a){return a.focusManager.hasFocus})}function lockKeyPress(a){var b=a.which;!a.ctrlKey&&!a.metaKey||79!=b&&83!=b||reportTaskSwitch()}
function noLockdownControls(){var a=!1;try{a=parent&&parent.isFullscreen()}catch(b){return}a&&parent.postMessage({action:"lockdownControls",enabled:!1},"*")}function showLockdownControls(){window.onblur=function(){var a=inCkDialog;setTimeout(function(){inDialog||ckeditorHasFocus()&&!a||"IFRAME"==document.activeElement.tagName||reportTaskSwitch()},500)};parent&&parent.postMessage({action:"lockdownControls",enabled:!0},"*");"Firefox"==BrowserDetect.browser&&(window.onkeydown=lockKeyPress)}
function readEquationEditor(a){var b=$(".mathEditor",a);a=$(".mathEditorValue",a);b=MapleEquationEditorOnline.getMathContainerForId($(b).attr("id"));null!=b&&(b=b.getMathMLForGrading(),$(a).val(b))}function readEquationEditors(){var a=$(".mathEditorArea");_.each(a,readEquationEditor)}
function initializeEditor(a,b){var c=$(".mathEditor",a);if(!(0<$("#"+$(c).attr("id").replace(/[.]/g,"\\.")+"_editordiv").length)){var d=$(a).data("toolbar"),e=$(a).data("xtoolbar");null!=d&&""!=d||null!=e&&""!=e||(d="EqeDefaultToolbar.xml");var f=decodeURIComponent($(".mathEditorValue",a).val()),c={installLocation:$(c).attr("id"),highlightHex:"default",backgroundHex:"default",width:500,height:200,initialMath:f,dollarIdentifier:!0};!0===b&&(c.focus=!0);null!=d&&""!=d?c.toolbarXMLLocation=getBaseURL()+
"modules/eqeToolbars/"+d:c.toolbarString=e;if(d=$(a).data("highlightrule"))c.highlightIdentifiers=eval(d);MapleEquationEditorOnline.installMathEditor(c)}}window.mapleCloudMathJaxClientConfig=function(){return getRelativePathToMathJaxConfig()};
function mapleCloudOnLoad(){createEditors();var a=$(".mathEditorArea");_.each(a,initializeEditor);"function"===typeof startJavascriptEditors&&startJavascriptEditors();"function"===typeof preProcessMathForEssay&&preProcessMathForEssay();MathJax.Hub.Queue(["setRenderer",MathJax.Hub,"HTML-CSS"],["Typeset",MathJax.Hub],afterMath)}
function afterMath(){"function"==typeof doAfterMath&&doAfterMath();mathjaxLoaded=!0;$("span.MathJax").on("copy",function(a){var b=this.id.replace("-Frame",""),b=document.getElementById(b);a.originalEvent.clipboardData.setData("text/plain",b.text);a.preventDefault()})}
function createEditor(a){var b=$("textarea",a)[0];if(null==CKEDITOR.instances[$(b).attr("name")]){var c=$(a).data("config");null==c&&(c="instructor");$(a).data("toolbar");var d=$(a).data("width");null==d&&(d="auto");var e=$(a).data("height");null==e&&(e=400);var f=$(a).data("baseFloatZIndex");null==f&&(f=1E4);var g=getMaxWordcount(a);a={showParagraphs:!1,showWordCount:getShowWordcount(a),showCharCount:!1,countSpacesAsChars:!1,countHTML:!1,maxWordCount:g,maxCharCount:-1};CKEDITOR.on("instanceReady",
function(a){a=a.editor;"undefined"!==typeof a&&(a=a.document.$.getElementsByTagName("html")[0],$(a).on("contextmenu",function(){return!1}))});CKEDITOR.replace(b,{language:theLocale.replace(/_/,"-"),width:d,height:e,wordcount:a,baseFloatZIndex:f,customConfig:"config/"+c+".js",on:{instanceReady:function(){"function"==typeof ckeReady&&ckeReady()},contentDom:function(a){"slideshowEditor"===c&&"function"==typeof bindEventsForSlideshow&&bindEventsForSlideshow(a.editor)}}})}}
function getMaxWordcount(a){return(a=$(a).data("maxwordcount"))&&""!=a&&0<a?a:-1}function getShowWordcount(a){return $(a).data("wordcount")}function unescapeValue(a){var b=document.createElement("div");b.innerHTML=$(a).val();$(a).val(preserveJSONinAttributes(b.innerHTML))}function preserveJSONinAttributes(a){return a.replace(/\"\[\{/g,"'[{").replace(/\}\]\"/g,"}]'")}
function createEditors(){var a=$(".editorArea");0<a.length?ckeReady=_.after(a.length,function(){ckeLoaded=!0}):ckeLoaded=!0;_.each(a,createEditor)}function destroyEditors(){$.each(CKEDITOR.instances,function(a,b){b.destroy()})}function readEditor(a){var b=$("textarea",a)[0],b=CKEDITOR.instances[$(b).attr("name")];null!=b&&(b=b.getData(),b=b.replace(/\u200b/,""),b=preserveJSONinAttributes(b),$('input[type\x3d"hidden"]',a).val(b),$("textarea",a).val(b))}
function readEditors(){_.each(CKEDITOR.instances,function(a){a=$(a.container.$).parent();readEditor(a)})}function prepareAceEditor(a){var b=$(a).prev('input[type\x3d"hidden"]');b&&b.val(ace.edit(a).getValue())}function prepareAceEditorsForSubmit(){var a=$(".ace_editor");_.each(a,prepareAceEditor)}
function showInputHelp(){var a=$(this).attr("name"),a="checkbox"==this.type?$('.helpLink[data-input\x3d"'+a.substring(0,a.lastIndexOf("."))+'"]'):$('.helpLink[data-input\x3d"'+a+'"]');0<a.length&&("none"==a.css("display")||null==a[0].offsetParent)&&($(".helpLink").hide(),$("a",a).addClass("btn-default"),$(a).show());return!1}
$(document).on("keydown",function(a){var b=a.target.nodeName.toLowerCase();!a.altKey||37!=a.which&&39!=a.which?8!=a.which&&8!=a.keyCode||"input"===b&&("text"===a.target.type||"password"===a.target.type||"url"===a.target.type)||"textarea"===b||a.preventDefault():a.preventDefault()});function blockBackspace(){history.pushState(null,null,$(location).attr("href"));window.addEventListener("popstate",function(){history.pushState(null,null,$(location).attr("href"))});historyLoaded=!0}
function pageFullyLoaded(){return historyLoaded&&ckeLoaded&&mathjaxLoaded&&mathappsLoaded()}function appendOnSubmitHandler(a,b){if("function"!=typeof b)return!1;var c=a.onsubmit;a.onsubmit=function(){return null!=c&&0==c.apply(a)?!1:b(a)}}function getClassId(){var a=0;0<$("#classId").length?a=$("#classId").val():0<$('input[name\x3d"classId"]').length?a=$('input[name\x3d"classId"]').val():"undefined"!==typeof currentClassId&&(a=currentClassId);return parseInt(a)}
function postMessageListener(a){if("setMathAppSession"==a.data.action&&null!=a.data.sessionId&&"undefined"!=typeof a.data.sessionId)$('[id^\x3d"mw_frame"]').each(function(b,d){if(d.contentWindow===a.source){var e=d.id.replace(/mw_frame/,"");sendMathAppRuntime(e,"JSESSIONID\x3d"+a.data.sessionId,!0);$(d).attr("data-loaded","true");return mathAppLoading=!1}return!0});else if("resizeMathApp"==a.data.action)$('[id^\x3d"mw_frame"]').each(function(b,d){return d.contentWindow===a.source?(resizeIframe(a.data.height,
a.data.width,d.id),!1):!0});else if(a.data.msg&&"OpenDocumentAcknowledge"==a.data.msg)_.each($('[id^\x3d"mw_frame"]'),function(b){if(b.contentWindow===a.source.parent){var d=b.id.replace(/mw_frame/,""),e=a.data.MNCookies,f="";null!=e&&_.each(e.cookies,function(a,b){f+=(0==b?"":";")+a.name+"\x3d"+a.value});sendMathAppRuntime(d,f,!0);$(b).attr("data-loaded","true");$(b).iFrameResize({checkOrigin:!1,log:!1})}}),mathAppLoading=!1;else if("resizeHtmlQuestionFrame"==a.data.action){var b=resizeHtmlFrame.bind(null,
a.data.iframeId);waitUntilPageLoaded(b)}else if("lockdownControls"==a.data.action)if(a.data.enabled)$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",reportTaskSwitch);else $(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",reportTaskSwitch);else"saveActivity"==a.data.action&&autoSave()}function waitUntilPageLoaded(a){pageFullyLoaded()?a():window.setTimeout(function(){waitUntilPageLoaded(a)},100)}
function resizeHtmlFrame(a){a=$("#"+a);iFrameResize({checkOrigin:!1,heightCalculationMethod:"lowestElement",widthCalculationMethod:"rightMostElement",sizeWidth:!0,sizeHeight:!0,autoResize:!0,scrolling:!1},a[0])}
function closePreviewWorksheets(){var a=$('input[id$\x3d"wp_key"]:not([id\x3d"wp_key"])');if(0<a.length){var b="actionID\x3dclosePreviewWorksheets";window.noUnloadAction||(window.noUnloadAction=!0,_.each(a,function(a){b+="\x26closeWpkey\x3d"+$(a).val()}),$.ajax({type:"POST",url:document.forms.edu_form.action,data:b}))}}
function startSearchIndex(){$("#startSearchIndex").attr("disabled",!0);$("body").css("cursor","wait");var a=getBaseURL()+"startSearchIndexer.do";$("#lastSearchIndex").html(msgStartingIndexer);$.ajax({type:"POST",url:a,dataType:"html",error:function(){$("body").css("cursor","auto");$("#lastSearchIndex").html(msgError)},success:function(a){$("#lastSearchIndex").html(a);$("body").css("cursor","auto");$(".searchStatus").html('\x3ci class\x3d"fa fa-check-circle fa-2x correctIndicator"\x3e\x3c/i\x3e')},
complete:function(){$("#startSearchIndex").attr("disabled",!1)}})}function blockEnterKey(a){if(13==a.keyCode)return a.preventDefault(),a.stopPropagation(),!1}
$(function(){checkCompatibility();tokenizeForms();var a=$.ajax;$.ajax=function(){if(1==arguments.length){var b=arguments[0];b.url=appendCsrfTokenToUrl(b.url)}else 2==arguments.length&&(arguments[0]=appendCsrfTokenToUrl(arguments[0]));return a.apply(this,arguments)};window.addEventListener?window.addEventListener("message",postMessageListener,!0):window.attachEvent("onmessage",postMessageListener);var b=$("#global").outerHeight();$("#startSearchIndex").on("click",startSearchIndex);$("#fixed").affix({offset:{top:null===
b?0:b,bottom:0}});$.widget.bridge("uitooltip",$.ui.tooltip);$.fn.modal.Constructor.prototype.enforceFocus=function(){};$("#pageMessage").appendTo("#top");setHolderSize();$(window).on("resize",function(){setHolderSize()});$(".changeMathMode").on("click",function(a){loadMathSelect(a)});displayLabelledDivs();$("body").css("margin",0);$(".sectionName h2, .sectionName h3").on("click",function(){var a=$(this).parents(".section");$(a).toggleClass("collapsed")});$(".sectionName .sectionLabel").on("click",
function(){var a=$(this).parents(".section");$(a).toggleClass("collapsed")});b=QueryString.open;null!=b&&0<b.length&&($(".section").addClass("collapsed"),b=b.split(","),_.each(b,function(a){$("#"+a).removeClass("collapsed")}));0<$("#assignmentButtons").length&&history&&history.pushState?(blockBackspace(),mathappsLoaded=function(){return 0==$('[name^\x3d"mw_frame"]:visible:not([data-loaded])').length}):(ckeLoaded=historyLoaded=!0,mathappsLoaded=function(){return!0});$(".helpLink, .visibleLink").on("click",
function(){var a=$(this).prop("href"),b=$(this).data("input");previewModal(a,function(){if(0<$('[name\x3d"'+b+'"]').length)$("#myModal").on("hidden",function(){$('[name\x3d"'+b+'"]')[0].focus()})});return!1});$('div[name\x3d"questioncontainer"] input').on("focus",showInputHelp);$('div[name\x3d"questioncontainer"] input').on("change",showInputHelp);if("undefined"==typeof openuw||1!=openuw)$(".groupLink").on("click",function(){$(this).siblings().slideToggle();return!1});0<$("#search").length&&($("#search")[0].onsubmit=
function(){return""==this.elements[0].value.trim()?!1:!0});$('[id^\x3d"doInSession"]').on("click",doInSessionFeedback);$('[id^\x3d"doInSession"]').attr("disabled",!1);$(".tryAnother").on("click",doInSessionTryAnother);$(".tryAnother").attr("disabled",!1);$(".startOver").on("click",doInSessionTryAnother);$('input:text:not([name\x3d"login"]), input:password:not([name\x3d"password"])').on("keypress",function(a){blockEnterKey(a)});$('[data-toggle\x3d"tooltip"]').tooltip();$("\x3ca href\x3d"+document.URL+
"#inner class\x3d'screen-reader-only' tabindex\x3d'0'\x3e"+accessibleAnchorMessage+"\x3c/a\x3e").insertBefore("#top")});var antiCsrfTokenName="AntiCsrfToken",antiCsrfTokenValue=readCookie(antiCsrfTokenName);function appendCsrfTokenToUrl(a){-1==a.indexOf(antiCsrfTokenValue)&&(a+=-1!==a.indexOf("?")?"\x26":"?",a+=antiCsrfTokenName+"\x3d"+antiCsrfTokenValue);return a}function tokenizeForms(){$("form").each(function(a,b){tokenizeForm(b)})}
function tokenizeForm(a){"multipart/form-data"==a.enctype?a.action=appendCsrfTokenToUrl(a.action):0===$(a).find("input[name\x3d"+antiCsrfTokenName+"]").length&&$("\x3cinput/\x3e").attr("type","hidden").attr("name",antiCsrfTokenName).attr("value",antiCsrfTokenValue).appendTo(a)}function toggleIframeResizer(a){"undefined"!=typeof window.parentIFrame&&window.parentIFrame.autoResize(a)}
function copyElementTextToClipboard(a,b,c){if(b=document.querySelector(b)){var d=document.createRange();d.selectNodeContents(b);window.getSelection().removeAllRanges();window.getSelection().addRange(d);document.execCommand("copy");window.getSelection().removeAllRanges();var e=a.getAttribute("data-original-title");e!=c&&($(a).attr("data-original-title",c).tooltip("fixTitle").tooltip("show"),$(a).on("mouseleave",function(){$(a).attr("data-original-title",e)}))}}
function isIframe(){try{return isIframe=window.self!==window.top}catch(a){return!1}};